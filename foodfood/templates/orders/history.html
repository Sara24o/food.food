{% extends 'base.html' %}
{% block title %}Order History{% endblock %}
{% block content %}
<h1>Order History</h1>
<ul class="list-group">
  {% for o in orders %}
  <li class="list-group-item">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h6 class="mb-1">Order #{{ o.id }} - {{ o.restaurant.name }}</h6>
        <p class="mb-1 text-muted">{{ o.created_at|date:"M d, Y H:i" }} - {{ o.total_amount }} INR</p>
        <span class="badge 
          {% if o.status == 'pending' %}bg-warning
          {% elif o.status == 'accepted' %}bg-info
          {% elif o.status == 'preparing' %}bg-primary
          {% elif o.status == 'on_the_way' %}bg-secondary
          {% elif o.status == 'delivered' %}bg-success
          {% else %}bg-danger{% endif %}">
          {{ o.get_status_display }}
        </span>
      </div>
      <a href="/orders/{{ o.id }}/" class="btn btn-sm btn-outline-primary">View Details</a>
    </div>
  </li>
  {% empty %}
  <li class="list-group-item text-center py-4">
    <p class="text-muted mb-0">No orders yet.</p>
    <a href="{% url 'restaurant-list' %}" class="btn btn-primary mt-2">Start Shopping</a>
  </li>
  {% endfor %}
</ul>
{% endblock %}


